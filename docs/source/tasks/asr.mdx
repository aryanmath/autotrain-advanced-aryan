# Automatic Speech Recognition (ASR)

Training an Automatic Speech Recognition (ASR) model with AutoTrain is super-easy! Get your data ready in
proper format and then with just a few clicks, your state-of-the-art model will be ready to
be used in production.

Config file task names:
- `automatic_speech_recognition`
- `automatic-speech-recognition`
- `asr`

## Data Format

ASR supports datasets in CSV, JSON, and JSONL formats. The data should contain two columns:
1. Audio file path or audio data
2. Transcription text

### CSV Format

```csv
audio,transcription
/path/to/audio1.wav,"this is the first transcription"
/path/to/audio2.wav,"this is the second transcription"
.
.
.
```

### JSONL Format

```json
{"audio": "/path/to/audio1.wav", "transcription": "this is the first transcription"}
{"audio": "/path/to/audio2.wav", "transcription": "this is the second transcription"}
.
.
.
```

### Column Mapping

Your dataset must have two columns: `audio` and `transcription`.
If your column names are different, you can map the dataset columns to AutoTrain column names.

## Training

### Local Training

To train an ASR model locally, you can use the `autotrain --config config.yaml` command.

Here is an example of a `config.yaml` file for training an ASR model:

```yaml
task: automatic_speech_recognition
model: facebook/wav2vec2-base-960h
data_path: /path/to/your/data
train_split: train
valid_split: validation
column_mapping:
  audio: audio
  transcription: transcription
params:
  max_duration: 30.0
  sampling_rate: 16000
  batch_size: 8
  epochs: 3
  learning_rate: 3e-5
  gradient_accumulation: 1
  optimizer: adamw_torch
  scheduler: linear
  warmup_ratio: 0.1
  weight_decay: 0.01
  max_grad_norm: 1.0
  early_stopping_patience: 3
  early_stopping_threshold: 0.01
  eval_strategy: epoch
  save_total_limit: 1
  auto_find_batch_size: false
  logging_steps: -1
```

### Training on Hugging Face Spaces

1. Go to [AutoTrain](https://huggingface.co/spaces/autotrain/autotrain-advanced)
2. Select "Automatic Speech Recognition" as the task
3. Choose your base model (e.g., facebook/wav2vec2-base-960h)
4. Upload your dataset or select a dataset from the Hugging Face Hub
5. Configure your training parameters
6. Click "Start Training"

## Training Parameters

[[autodoc]] trainers.automatic_speech_recognition.params.AutomaticSpeechRecognitionParams 